<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><!--code original réalisé par : hametsu21 http://www.codes-sources.com/auteur/HAMETSU21/612716.aspxadapté aux besoins de GaiaMundi par H.Paris hpdb@wanadoo.fr-->    <meta http-equiv="content-type" content="text/html; charset=UTF-8">    <title>ecrit-hypertext.html</title>			<script type="text/javascript">		 var listeRADAR=new Array()		 	if(window.location.href.indexOf("http")>=0){	var paramurl=window.location.href.split(".html?")[1]	window.location.href="ecrit_hypertextARTICLES.php?"+paramurl		}	</script>		<script type="text/javascript" src="RADARHypertexte/rad/listeradar.js"></script>    <script type="text/javascript" src="Wysiwyg.js"></script>	<script type="text/javascript" src="menuARTICLES.js"></script>		<script type="text/javascript" src="A-MANAGER-local/Controle/bouton.js"></script>			<script type="text/javascript" src="A-MANAGER-local/Controle/Saisie/saisie.js"></script>	<script type="text/javascript" src="A-MANAGER-local/Controle/Redondance/redondance.js"></script>	<script type="text/javascript">var menuencaps_temp=menuencapsA	var Llistpubcartovision=listpubcartovisionAvar Mmenuencaps=menuencapsA	</script>	<script type="text/javascript" src="menuencapsulesreduitILIADE.js"></script>		<script type="text/javascript">var Rlistpubcartovision=listpubcartovisionvar Rmenuencaps=menuencaps	</script>    <link rel="stylesheet" type="text/css" href="Wysiwyg.css">	<script type="text/javascript">	var carteencours,kx;		function changecartencours(a){carteencours=a;kx=0;top.frames.Num0.kx0()}		function kx0(){}var AFRAME	=""var encaps=""var indicouv=2var noeudmaps=document.createElement("textarea")noeudmaps.setAttribute("name","calcul")top.editeur(1)//indique à la page top que l'éditeur est ouvertvar TextToModifici='<br>écrivez votre texte<br><br><br><br><br><br><br>'//'<span style="font-family:arial"><br>écrivez votre texte<br><br><br><br><br><br><br></span>'//''/*insere le text à modifier dans l'éditeur de texte*/function insertTextToModifici(){encaps=top.retournMenuencapsencours("return encapsencours")//alert(encaps)//alert(indicouv)indicouv=top.retournouvbloc12("return ouvbloc12")/*var indicouvencoursici=top.retourneindicouvencours("return indicouvencours")alert("état encours = "+indicouvencoursici+" nouvel état = "+indicouv  )*/top.etatindicouvencours(indicouv) //stocke l'état encours de l'éditeur dasn la page racineif(indicouv==2  ){encaps=''}else{TextToModifici=top.retournTextToModif("return TextToModif")}if(indicouv==1){ //charge les titres dans les input seulement dans le cas "modifier"document.getElementById("N[1]").value=encapsdocument.getElementById("N[3]").value=encapsdocument.getElementById("Z[0]").value=1;//alert(encaps)TextToModifici=TextToModifici.replace(/"/g,'\'')TextToModifici=TextToModifici.replace(/<carte/g,'<img width=15 src="rouge.png" title="<carte')TextToModifici=TextToModifici.replace(/<\/carte>/g,'</carte>">')TextToModifici=TextToModifici.replace(/<fond/g,'<img width=15 src="vert.png" title="<fond')TextToModifici=TextToModifici.replace(/<\/fond>/g,'</fond>">')TextToModifici=TextToModifici.replace(/<icone/g,'<img width=15 src="bleu.png" title="<icone')TextToModifici=TextToModifici.replace(/<\/icone>/g,'</icone>">')TextToModifici=TextToModifici.replace(/<fi/g,'<img width=15 src="violet.png" title="<fi')TextToModifici=TextToModifici.replace(/<\/fi>/g,'</fi>">')TextToModifici=TextToModifici.replace(/<encadre/g,'<img width=15 src="jaune.png" title="<encadre')TextToModifici=TextToModifici.replace(/<\/encadre>/g,'</encadre>">')TextToModifici=TextToModifici.replace(/&nbsp;&nbsp;/g,'')}else{document.getElementById("Z[0]").value=0;}AFRAME=document.getElementsByTagName('iframe')[0].contentWindow;AFRAME.document.body.innerHTML=TextToModificiwindow.frames[0].document.getElementsByTagName('body')[0].setAttribute("style","font-family:arial;font-size:11px")/*var texttransitici=window.frames[0].document.getElementById("innertranspdiv").innerHTMLwindow.frames[0].document.getElementsByTagName('body')[0].innerHTML="" // supprime la div id=transpdiv :elle sera remise par  l'entête js du fichier html de l'articlewindow.frames[0].document.getElementsByTagName('body')[0].innerHTML=texttransitici*/}/*insertion des métabalises dans l'éditeur de texte*/function remplaceblancdate(){//alert("ici")AFRAME=document.getElementsByTagName('iframe')[0].contentWindow;var txtfra=AFRAME.document.body.innerHTML;var balise=top.document.getElementById("textbalise").value//alert(balise)//alert(txtfra)balise=balise.replace(/""/g,'')balise=balise.replace(/&nbsp;&nbsp;/g,'')txtfra=txtfra.replace(/%20/g,' ')//alert(txtfra)//alert(datx)/*document.getElementById("datx").innerHTML=datxvar txtdatx=document.getElementById("datx").innerHTMLtxtdatx=txtdatx.replace(/%20/g,' ')txtdatx=txtdatx.replace(/%28CEST%29/g,'')txtdatx=txtdatx.replace(/%28CET%29/g,'')txtdatx=txtdatx.replace(/\(CEST\)/g,'')txtdatx=txtdatx.replace(/\(CET\)/g,'')datx=txtdatx//alert(datx)txtfra=txtfra.replace(/%28CEST%29/g,'')txtfra=txtfra.replace(/%28CET%29/g,'')document.getElementById("datx").innerHTML=""txtfra=txtfra.replace('?'+datx+'">','" width=15  title="'+balise+'" >')//id="'+datx+'"*/txtfra=txtfra.replace('?xbalx">','" width=15  title="'+balise+'" >')//id="'+datx+'"txtfra=txtfra.replace(/&lt;/g,'<')txtfra=txtfra.replace(/&gt;/g,'>')//alert(txtfra)AFRAME.document.body.innerHTML=txtfra}function convertMetaLangage(){var txtfra = document.getElementsByTagName('iframe')[0].contentWindow.document.body.innerHTML;//alert("la")//txtfra=txtfra.replace(/>" ><\/span/g,'></span')//txtfra=txtfra.replace(/>' &gt;<\/span/g,'></span')txtfra=txtfra.replace(/&lt;/g,'<')txtfra=txtfra.replace(/&gt;/g,'>')txtfra=txtfra.replace(/title="/g,'>')txtfra=txtfra.replace(/\/carte>"/g,'/carte><span')txtfra=txtfra.replace(/\/icone>"/g,'/icone><span')txtfra=txtfra.replace(/\/encadre>"/g,'/encadre><span')txtfra=txtfra.replace(/\/fond>"/g,'/fond><span')txtfra=txtfra.replace(/\/fi>"/g,'/fi><span')txtfra=txtfra.replace(/width="15">/g,'></span>')txtfra=txtfra.replace(/<img /g,'<span ')txtfra=txtfra.replace(/src/g,'id')txtfra=txtfra.replace(/<carte/g,'</span><carte')txtfra=txtfra.replace(/<icone/g,'</span><icone')txtfra=txtfra.replace(/<encadre/g,'</span><encadre')txtfra=txtfra.replace(/<fond/g,'</span><fond')txtfra=txtfra.replace(/<fi/g,'</span><fi')txtfra=txtfra.replace(/<span id="violet.png" ><\/span>/g,'')txtfra=txtfra.replace(/<span id="rouge.png"><\/span>/g,'')txtfra=txtfra.replace(/<span id="vert.png"><\/span>/g,'')txtfra=txtfra.replace(/<span id="bleu.png"><\/span>/g,'')txtfra=txtfra.replace(/<span id="jaune.png"><\/span>/g,'')txtfra=txtfra.replace(/<span id="rouge.png" ><\/span>/g,'')txtfra=txtfra.replace(/<span id="vert.png" ><\/span>/g,'')txtfra=txtfra.replace(/<span id="bleu.png" ><\/span>/g,'')txtfra=txtfra.replace(/<span id="jaune.png" ><\/span>/g,'')txtfra=txtfra.replace(/<span> <\/span>/g,'')txtfra=txtfra.replace(/<span><\/span>/g,'')txtfra=txtfra.replace(/<span ><\/span>/g,'')txtfra=txtfra.replace(/>" ><\/span/g,'></span')txtfra=txtfra.replace(/>' &gt;<\/span/g,'></span')txtfra=txtfra.replace(/target="_blank"/g,'')		txtfra=txtfra.replace(/ href="/g,' target="_blank" href="')document.getElementById("N[2]").innerHTML=txtfra}var listboutons=new Array("cartu","iconu","fondu","f-ico","encadru")var listboutons2=new Array("cartu","iconu","fondu","fico","encadru")function boutonvisible(){for(i=0;i<listboutons.length;i++){var vueif(top.document.getElementById(listboutons2[i]).style.visibility=="hidden"){vue="hidden"}else{vue="visible"}document.getElementById(listboutons[i]).style.visibility=vue}}function boutonhidden(){for(i=0;i<listboutons.length;i++){document.getElementById(listboutons[i]).style.visibility="hidden"}}function copyN2(){var alerter=''; var inputs=new Array(document.getElementById('N[1]').value,document.getElementById('N[3]').value); detect(inputs,CaracteresInterdits1); var check_r='file'; if(document.getElementById('Z[0]').value==0){ check_redondance(inputs,check_r,menuencaps_temp); } else if(document.getElementById('Z[0]').value==2) { check_redondance(inputs,check_r,itemmenu_temp); }convertMetaLangage()if(document.getElementById("N[1]").value=="Titre cours" || document.getElementById("N[3]").value=="Titre long" || document.getElementById("N[1]").value=="" || document.getElementById("N[3]").value==""){alert("Attention ! Vous n'avez pas indiqué les titres.")}if(indicouv==2 || indicouv==3){for(i=0;i<Mmenuencaps.length;i++){if(Mmenuencaps[i]==document.getElementById("N[1]").value){alert("Ce titre court existe déjà. Veuillez en choisir une autre, ou bien annulez");}}for(i=0;i<Rmenuencaps.length;i++){if(Rmenuencaps[i]==document.getElementById("N[3]").value){alert("Ce <b>titre long</b> existe déjà. Veuillez en choisir une autre, ou bien annulez");}}}}</script>	</head><body onload="insertTextToModifici()" style="font-family:arial"><fieldset id="fs" name="fs"><form name="saisie1" action="PageARTICLES/breve.php" method="post">				<textarea id="text" name="body" ><!-- cols="60" rows="10" -->		</textarea>		<table><tr><td><input type="submit" id="submit2" value="enregistrez" disabled="disabled" style="display:none;">		<input type="submit" id="submit" value="enregistrez" onclick="top.etatindicouvencours(1);top.indica0();top.forceEncapsencours(document.getElementById('N[1]').value)"  onmouseover="copyN2()" onclick="wysiwyg.submit();"></td><td><input type="text" name="N[1]"   id="N[1]"  Onkeyup="javascript: var alerter=''; var inputs=new Array(document.getElementById('N[1]').value,document.getElementById('N[3]').value); if(document.getElementById('Z[0]').value != '1'){ detect(inputs,CaracteresInterdits1); var check_r='file';check_redondance(inputs,check_r,menuencaps_temp); }" onkeypress="refuserToucheEntree(event);"  style="width:100px;margin-top:3px" value="Titre cours" title="titre cours en un seul mot qui sera le radical du nom de fichier">&nbsp;&nbsp;<input type="text" name="N[3]"  Onkeyup="javascript: var alerter=''; var inputs=new Array(document.getElementById('N[1]').value,document.getElementById('N[3]').value); if(document.getElementById('Z[0]').value != '1'){ detect(inputs,CaracteresInterdits1); var check_r='file';check_redondance(inputs,check_r,menuencaps_temp); }" onkeypress="refuserToucheEntree(event);"  id="N[3]" style="width:130px;margin-top:3px" value="Titre long" title="Titre long explicite"><textarea  style="visibility:hidden;width:2px;height:2px" id="N[2]" name="N[2]" ></textarea>	</td><input type="text" name="Z[0]"   id="Z[0]" style="width:1px;visibility:hidden" ><!-- indicateur pour dire si nouveau fichier --></tr></table><table width="380"><tr><td width="25%">&nbsp;</td><td width="75%" style="text-align:center;"><div id="alert" style="visibility:hidden"></div></td></td></tr></table></form></fieldset><!-- A TTOUJOURS PLACER APRES LE FORMULAIRE --><script type="text/javascript">var wysiwyg = new Wysiwyg("text", "wysiwyg");wysiwyg.init();/*  si encaps == "" <=> cas "nouveau" ou "à partir de", alors mettre Input Z[0] value=0  ; sinon 1   <=> cas "modifier"  */boutonvisible()</script><div style="visibility:hidden" id="datx" ></div><script type="text/javascript"></script></body></html>